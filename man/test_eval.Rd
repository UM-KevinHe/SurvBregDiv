% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/test_eval.R
\name{test_eval}
\alias{test_eval}
\title{Evaluate Survival Model Performance}
\usage{
test_eval(
  test_z,
  test_delta,
  test_time,
  betahat,
  test_stratum = NULL,
  train_baseline_obj = NULL,
  criteria = c("loss", "CIndex", "IBS", "tdAUC")
)
}
\arguments{
\item{test_z}{Matrix of predictors for the test set.}

\item{test_delta}{Numeric vector of event indicators (1 for event, 0 for censored).}

\item{test_time}{Numeric vector of observed times.}

\item{betahat}{Numeric vector of estimated coefficients.}

\item{test_stratum}{Vector indicating strata for test subjects. Defaults to NULL (single stratum).}

\item{train_baseline_obj}{A list containing the baseline hazard function (typically from \code{get_baseline_hazard}).
Required only when \code{criteria = "IBS"}.}

\item{criteria}{Metric to calculate: "loss" (Log-Partial Likelihood), "CIndex" (Concordance Index),
"IBS" (Integrated Brier Score), or "tdAUC" (Integrated Time-Dependent AUC).}
}
\value{
A numeric value representing the performance metric.
Returns \code{NA} if the metric cannot be computed (e.g., no events in test set).
}
\description{
Computes predictive performance metrics for stratified or unstratified Cox models.
Supports Loss, C-index, Integrated Brier Score (IBS), and Time-Dependent AUC (tdAUC).
}
\details{
For "IBS", the function predicts survival probabilities and converts them to risk (1 - S).
If \code{riskRegression} fails to provide a pre-computed IBS, the function manually integrates
the Brier score using the trapezoidal rule.
}
\keyword{internal}
