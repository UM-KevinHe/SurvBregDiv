% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/StabSelect.R
\name{cox_MDTL_enet.StabSelect}
\alias{cox_MDTL_enet.StabSelect}
\title{Stability Selection for Cox MDTL Enet Model}
\usage{
cox_MDTL_enet.StabSelect(
  z,
  delta,
  time,
  stratum = NULL,
  beta,
  vcov = NULL,
  etas = NULL,
  alpha = NULL,
  lambda = NULL,
  nlambda = 100,
  lambda.min.ratio = 0.1,
  nfolds = 5,
  cv.criteria = c("V&VH", "LinPred", "CIndex_pooled", "CIndex_foldaverage"),
  c_index_stratum = NULL,
  message = FALSE,
  seed = NULL,
  B = 50,
  fraction_sample = 0.5,
  ...
)
}
\arguments{
\item{z}{A numeric matrix or data frame of covariates (n x p).}

\item{delta}{A numeric vector of event indicators (1 = event, 0 = censored).}

\item{time}{A numeric vector of observed times.}

\item{stratum}{Optional numeric or factor vector indicating strata. If \code{NULL},
all subjects are assumed to be in the same stratum.}

\item{beta}{A numeric vector of external coefficients (length p).}

\item{vcov}{Optional numeric matrix (p x p) representing the weighting matrix \eqn{Q}
for the Mahalanobis penalty. Typically the inverse covariance matrix. If \code{NULL},
defaults to the identity matrix.}

\item{etas}{A numeric vector of candidate \code{eta} values to be evaluated.}

\item{alpha}{The Elastic Net mixing parameter, with \eqn{0 \le \alpha \le 1}.
\code{alpha = 1} is the Lasso penalty, and \code{alpha = 0} is the Ridge penalty.
If \code{NULL}, defaults to 1 (Lasso).}

\item{lambda}{Optional user-supplied lambda sequence. If \code{NULL}, typical usage
is to have the program compute its own \code{lambda} sequence based on \code{nlambda}
and \code{lambda.min.ratio}.}

\item{nlambda}{The number of \code{lambda} values. Default is 100.}

\item{lambda.min.ratio}{Smallest value for \code{lambda}, as a fraction of \code{lambda.max}.
Default depends on the sample size relative to the number of predictors.}

\item{nfolds}{Integer. Number of cross-validation folds. Default is 5.}

\item{cv.criteria}{Character string specifying the cross-validation criterion. Choices are:
\itemize{
\item \code{"V&VH"} (default): Verweij & Van Houwelingen partial likelihood loss.
\item \code{"LinPred"}: Loss based on the prognostic performance of the linear predictor.
\item \code{"CIndex_pooled"}: Harrell's C-index computed by pooling predictions across folds.
\item \code{"CIndex_foldaverage"}: Harrell's C-index computed within each fold and averaged.
}}

\item{c_index_stratum}{Optional stratum vector. Required only when \code{cv.criteria} involves
stratified C-index calculation but the model itself is unstratified.}

\item{message}{Logical. If \code{TRUE}, progress messages are printed.}

\item{seed}{Optional integer. Random seed for reproducible fold assignment.}

\item{B}{Integer. Number of bootstrap/subsampling replicates. Default is 50.}

\item{fraction_sample}{Numeric. Fraction of data to use for subsampling in each replicate. Default is 0.5.}

\item{...}{Additional arguments passed to the underlying fitting function.}
}
\value{
An object of class \code{StabSelect}.
}
\description{
Stability Selection for Cox MDTL Enet Model
}
\examples{
\dontrun{
data(ExampleData_highdim)
train_dat_highdim <- ExampleData_highdim$train
beta_external_highdim <- ExampleData_highdim$beta_external

eta_list <- generate_eta(method = "exponential", n = 10, max_eta = 10)

mdtl.StabSelect <- cox_MDTL_enet.StabSelect(
  z = train_dat_highdim$z,
  delta = train_dat_highdim$status,
  time = train_dat_highdim$time,
  stratum = train_dat_highdim$stratum,
  beta = beta_external_highdim,
  vcov = NULL,
  etas = eta_list,
  alpha = 1,
  cv.criteria = "CIndex_pooled",
  B = 20,
  message = TRUE
)
plot(mdtl.StabSelect, threshold = 0.75)
}

}
